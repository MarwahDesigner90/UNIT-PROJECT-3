{% extends "main_app/base.html" %}
{% load static %}
{% block title %}Home Page{% endblock %}

{% block content %}
<section class="bg-white dark:bg-gray-900 rounded-full px-20">
    <div class="grid max-w-screen-xl px-8 py-8 mx-auto lg:gap-8 xl:gap-0 lg:py-16 lg:grid-cols-12">
        <div class="mr-auto place-self-center lg:col-span-7">
            <div id="typewriter" class="typewriter max-w-2xl mb-6 text-2xl font-extrabold tracking-tight leading-none md:text-2xl xl:text-4xl dark:text-white"></div>منصة مسار تقدم لك الأدوات اللازمة لاكتشاف ميولك المهني وتحقيق أهدافك التعليمية</p>
            <a href="#" class=" bg-amber-400 inline-flex items-center justify-center mt-4  px-5 py-3 text-base font-medium text-center text-white border border-gray-300 rounded-lg hover:bg-sky-600 focus:ring-4 focus:ring-gray-100 dark:text-white dark:border-gray-700 dark:hover:bg-gray-700 dark:focus:ring-gray-800">
                ابدأ الان رحلتك
            </a> 
        </div>
        <div class="hidden lg:mt-0 lg:col-span-5 lg:flex">
            <img src="https://www.technomak.com/static/core/images/new_gifs2/Career%20page.gif" alt="hero-image">
        </div>                
    </div>
</section>


<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
<script>

    function typeWriter(element, sentences, speed, pause) {
        let sentenceIndex = 0;
        let charIndex = 0;

        function type() {
            if (sentenceIndex < sentences.length) {
                const currentSentence = sentences[sentenceIndex];

                if (charIndex < currentSentence.length) {
                    element.textContent += currentSentence.charAt(charIndex);
                    charIndex++;
                    setTimeout(type, speed);
                } else {
                    charIndex = 0;
                    sentenceIndex++;

                    if (sentenceIndex === sentences.length) {
                        sentenceIndex = 0; // Reset to loop
                    }

                    setTimeout(() => {
                        element.textContent = ''; // Clear the previous sentence
                        type();
                    }, pause);
                }
            }
        }

        type();
    }


    const typewriterElement = document.getElementById('typewriter');
    const sentences = [
        "  🚶‍♀️ ضايع؟ لسه ما عرفت تحدد مسارك؟ ",
        " مو عارف المجال اللي راح تبدع فيه؟  ",
        "مع منصة مسار جبنا لك الحل ",
      
    ];
    const typingSpeed = 100; // milliseconds per character
    const pauseBetweenSentences = 1000; // milliseconds before starting the next sentence

    typeWriter(typewriterElement, sentences, typingSpeed, pauseBetweenSentences);


    const progressCircle = document.querySelector(".autoplay-progress svg");
    const progressContent = document.querySelector(".autoplay-progress span");

    const swiperEl = document.querySelector("swiper-container");
    swiperEl.addEventListener("autoplaytimeleft", (e) => {
      const [swiper, time, progress] = e.detail;
      progressCircle.style.setProperty("--progress", 1 - progress);
      progressContent.textContent = `${Math.ceil(time / 1000)}s`;
    });


</script>


{% endblock %}